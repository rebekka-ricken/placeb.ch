/**
 * angular2-google-maps - Angular2 components for Google Maps
 * @version v0.6.1
 * @link https://github.com/SebastianM/angular2-google-maps#readme
 * @license MIT
 */
{"version":3,"sources":["directives/google-map.ts"],"names":["SebmGoogleMap","SebmGoogleMap.constructor","SebmGoogleMap.ngOnInit","SebmGoogleMap._initMapInstance","SebmGoogleMap._containsMapOptionsChange","SebmGoogleMap.ngOnChanges","SebmGoogleMap.zoom","SebmGoogleMap.longitude","SebmGoogleMap.latitude","SebmGoogleMap._convertToDecimal","SebmGoogleMap._updateCenter","SebmGoogleMap._handleMapCenterChange","SebmGoogleMap._handleMapZoomChange","SebmGoogleMap._handleMapMouseEvents"],"mappings":"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","file":"directives/google-map.js","sourcesContent":["import {\n  Component,\n  Renderer,\n  ElementRef,\n  EventEmitter,\n  OnChanges,\n  OnInit,\n  SimpleChange\n} from 'angular2/core';\nimport {GoogleMapsAPIWrapper} from '../services/google-maps-api-wrapper';\nimport {MarkerManager} from '../services/marker-manager';\nimport {LatLng, LatLngLiteral} from '../services/google-maps-types';\n\n/**\n * SebMGoogleMap renders a Google Map.\n * **Important note**: To be able see a map in the browser, you have to define a height for the CSS\n * class `sebm-google-map-container`.\n *\n * ### Example\n * ```typescript\n * import {Component} from 'angular2/core';\n * import {SebmGoogleMap} from 'angular2-google-maps/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  directives: [SebmGoogleMap],\n *  styles: [`\n *    .sebm-google-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <sebm-google-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *    </sebm-google-map>\n *  `\n * })\n * ```\n */\n@Component({\n  selector: 'sebm-google-map',\n  providers: [GoogleMapsAPIWrapper, MarkerManager],\n  styles: [\n    `\n    .sebm-google-map-container-inner {\n      width: inherit;\n      height: inherit;\n    }\n  `\n  ],\n  inputs: ['longitude', 'latitude', 'zoom', 'disableDoubleClickZoom'],\n  outputs: ['mapClick', 'mapRightClick', 'mapDblClick'],\n  template: `\n    <div class=\"sebm-google-map-container-inner\"></div>\n    <ng-content></ng-content>\n  `\n})\nexport class SebmGoogleMap implements OnChanges,\n    OnInit {\n  private _longitude: number = 0;\n  private _latitude: number = 0;\n  private _zoom: number = 8;\n  /**\n   * Enables/disables zoom and center on double click. Enabled by default.\n   */\n  disableDoubleClickZoom: boolean = false;\n\n  private static _mapOptionsAttributes: string[] = ['disableDoubleClickZoom'];\n\n  /**\n   * This event emitter gets emitted when the user clicks on the map (but not when they click on a\n   * marker or infoWindow).\n   */\n  mapClick: EventEmitter<MapMouseEvent> = new EventEmitter<MapMouseEvent>();\n\n  /**\n   * This event emitter gets emitted when the user right-clicks on the map (but not when they click\n   * on a marker or infoWindow).\n   */\n  mapRightClick: EventEmitter<MapMouseEvent> = new EventEmitter<MapMouseEvent>();\n\n  /**\n   * This event emitter gets emitted when the user double-clicks on the map (but not when they click\n   * on a marker or infoWindow).\n   */\n  mapDblClick: EventEmitter<MapMouseEvent> = new EventEmitter<MapMouseEvent>();\n\n  constructor(\n      private _elem: ElementRef, private _mapsWrapper: GoogleMapsAPIWrapper,\n      private _renderer: Renderer) {}\n\n  /** @internal */\n  ngOnInit() {\n    this._renderer.setElementClass(this._elem.nativeElement, 'sebm-google-map-container', true);\n    const container = this._elem.nativeElement.querySelector('.sebm-google-map-container-inner');\n    this._initMapInstance(container);\n  }\n\n  private _initMapInstance(el: HTMLElement) {\n    this._mapsWrapper.createMap(\n        el, {center: {lat: this._latitude, lng: this._longitude}, zoom: this._zoom});\n    this._handleMapCenterChange();\n    this._handleMapZoomChange();\n    this._handleMapMouseEvents();\n  }\n\n  private static _containsMapOptionsChange(changesKeys: string[]): boolean {\n    return changesKeys.every(\n        (key: string) => { return SebmGoogleMap._mapOptionsAttributes.indexOf(key) !== 1; });\n  }\n\n  /** @internal */\n  ngOnChanges(changes: {[propName: string]: SimpleChange}) {\n    if (SebmGoogleMap._containsMapOptionsChange(Object.keys(changes))) {\n      this._mapsWrapper.setMapOptions({disableDoubleClickZoom: this.disableDoubleClickZoom});\n    }\n  }\n\n  /**\n   * Sets the zoom level of the map. The default value is `8`.\n   */\n  set zoom(value: number | string) {\n    this._zoom = this._convertToDecimal(value, 8);\n    if (typeof this._zoom === 'number') {\n      this._mapsWrapper.setZoom(this._zoom);\n    }\n  }\n\n  /**\n   * The longitude that sets the center of the map.\n   */\n  set longitude(value: number | string) {\n    this._longitude = this._convertToDecimal(value);\n    this._updateCenter();\n  }\n\n  /**\n   * The latitude that sets the center of the map.\n   */\n  set latitude(value: number | string) {\n    this._latitude = this._convertToDecimal(value);\n    this._updateCenter();\n  }\n\n  private _convertToDecimal(value: string | number, defaultValue: number = null): number {\n    if (typeof value === 'string') {\n      return parseFloat(value);\n    } else if (typeof value === 'number') {\n      return <number>value;\n    }\n    return defaultValue;\n  }\n\n  private _updateCenter() {\n    if (typeof this._latitude !== 'number' || typeof this._longitude !== 'number') {\n      return;\n    }\n    this._mapsWrapper.setCenter({\n      lat: this._latitude,\n      lng: this._longitude,\n    });\n  }\n\n  private _handleMapCenterChange() {\n    this._mapsWrapper.subscribeToMapEvent<void>('center_changed').subscribe(() => {\n      this._mapsWrapper.getCenter().then((center: LatLng) => {\n        this._latitude = center.lat();\n        this._longitude = center.lng();\n      });\n    });\n  }\n\n  private _handleMapZoomChange() {\n    this._mapsWrapper.subscribeToMapEvent<void>('zoom_changed')\n        .subscribe(() => { this._mapsWrapper.getZoom().then((z: number) => this._zoom = z); });\n  }\n\n  private _handleMapMouseEvents() {\n    interface Emitter {\n      emit(value: any): void;\n    }\n    type Event = {name: string, emitter: Emitter};\n\n    const events: Event[] = [\n      {name: 'click', emitter: this.mapClick},\n      {name: 'rightclick', emitter: this.mapRightClick},\n      {name: 'dblclick', emitter: this.mapDblClick}\n    ];\n\n    events.forEach((e: Event) => {\n      this._mapsWrapper.subscribeToMapEvent<{latLng: LatLng}>(e.name)\n          .subscribe((event: {latLng: LatLng}) => {\n            const value =\n                <MapMouseEvent>{coords: {lat: event.latLng.lat(), lng: event.latLng.lng()}};\n            e.emitter.emit(value);\n          });\n    });\n  }\n}\n\n/**\n * MapMouseEvent gets emitted when the user triggers mouse events on the map.\n */\nexport interface MapMouseEvent { coords: LatLngLiteral; }\n"],"sourceRoot":"/source/"}